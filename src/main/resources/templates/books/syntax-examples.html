<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Thymeleaf ë¬¸ë²• ì˜ˆì œ</title>
  <link rel="stylesheet" th:href="@{/css/style.css}">
  <style>
        .syntax-section {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .code-example {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        .result {
            background: #e8f5e8;
            border: 1px solid #28a745;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .error-demo {
            background: #f8d7da;
            border: 1px solid #dc3545;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .warning-demo {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .info-demo {
            background: #d1ecf1;
            border: 1px solid #17a2b8;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .demo-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        .highlight {
            background-color: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }


  </style>
</head>
<body>
<div class="container">
  <header>
    <h1>ğŸ“ Thymeleaf ë¬¸ë²• ì™„ì „ ì •ë³µ</h1>
    <nav class="breadcrumb">
      <a th:href="@{/}">í™ˆ</a> >
      <a th:href="@{/books}">ë„ì„œ ëª©ë¡</a> >
      ë¬¸ë²• ì˜ˆì œ
    </nav>
  </header>

  <main>
    <!-- 1. ë³€ìˆ˜ í‘œí˜„ì‹ ${...} -->
    <div class="syntax-section">
      <h2>1. ë³€ìˆ˜ í‘œí˜„ì‹ ${...}</h2>
      <p>ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì „ë‹¬ë°›ì€ ëª¨ë¸ ì†ì„±ì— ì ‘ê·¼í•©ë‹ˆë‹¤.</p>

      <div class="code-example">
        &lt;p th:text="${message}"&gt;ê¸°ë³¸ ë©”ì‹œì§€&lt;/p&gt;
      </div>
      <div class="result">
        ê²°ê³¼: <p th:text="${message}">ê¸°ë³¸ ë©”ì‹œì§€</p>
      </div>

      <div class="code-example">
        &lt;p th:text="${book.title}"&gt;ë„ì„œ ì œëª©&lt;/p&gt;
      </div>
      <div class="result">
        ê²°ê³¼: <p th:text="${book.title}">ë„ì„œ ì œëª©</p>
      </div>

      <div class="code-example">
        &lt;p&gt;ì˜¤ëŠ˜ ë‚ ì§œ: &lt;span th:text="${today}"&gt;&lt;/span&gt;&lt;/p&gt;
      </div>
      <div class="result">
        ê²°ê³¼: <p>ì˜¤ëŠ˜ ë‚ ì§œ: <span th:text="${today}"></span></p>
      </div>
    </div>

    <!-- 2. ì„ íƒ í‘œí˜„ì‹ *{...} -->
    <div class="syntax-section">
      <h2>2. ì„ íƒ í‘œí˜„ì‹ *{...}</h2>
      <p>th:objectë¡œ ì„ íƒëœ ê°ì²´ì˜ ì†ì„±ì— ì ‘ê·¼í•©ë‹ˆë‹¤.</p>

      <div class="code-example">
        &lt;div th:object="${book}"&gt;
        &lt;h3 th:text="*{title}"&gt;ì œëª©&lt;/h3&gt;
        &lt;p th:text="*{author}"&gt;ì €ì&lt;/p&gt;
        &lt;p th:text="*{formattedPrice}"&gt;ê°€ê²©&lt;/p&gt;
        &lt;/div&gt;
      </div>
      <div class="result" th:object="${book}">
        ê²°ê³¼:
        <h3 th:text="*{title}">ì œëª©</h3>
        <p th:text="*{author}">ì €ì</p>
        <p th:text="*{price}">ê°€ê²©</p>
      </div>
    </div>

    <!-- 3. URL í‘œí˜„ì‹ @{...} -->
    <div class="syntax-section">
      <h2>3. URL í‘œí˜„ì‹ @{...}</h2>
      <p>ìƒëŒ€/ì ˆëŒ€ URLì„ ìƒì„±í•˜ê³  ì»¨í…ìŠ¤íŠ¸ íŒ¨ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.</p>

      <div class="code-example">
        &lt;a th:href="@{/books}"&gt;ë„ì„œ ëª©ë¡&lt;/a&gt;
        &lt;a th:href="@{/books/{id}(id=${book.id})}"&gt;ë„ì„œ ìƒì„¸&lt;/a&gt;
        &lt;a th:href="@{/books(category=${book.category})}"&gt;ê°™ì€ ì¹´í…Œê³ ë¦¬&lt;/a&gt;
      </div>
      <div class="result">
        ê²°ê³¼:
        <a th:href="@{/books}">ë„ì„œ ëª©ë¡</a> |
        <a th:href="@{/books/{id}(id=${book.id})}">ë„ì„œ ìƒì„¸</a> |
        <a th:href="@{/books(category=${book.category})}">ê°™ì€ ì¹´í…Œê³ ë¦¬</a>
      </div>
    </div>

    <!-- 4. í…ìŠ¤íŠ¸ ì²˜ë¦¬ -->
    <div class="syntax-section">
      <h2>4. í…ìŠ¤íŠ¸ ì²˜ë¦¬ (th:text vs th:utext)</h2>

      <div class="code-example">
        &lt;p th:text="${htmlContent}"&gt;HTML ë‚´ìš©&lt;/p&gt;
        &lt;p th:utext="${htmlContent}"&gt;HTML ë‚´ìš©&lt;/p&gt;
      </div>
      <div class="result">
        th:text ê²°ê³¼: <p th:text="${htmlContent}">HTML ë‚´ìš©</p>
        th:utext ê²°ê³¼: <p th:utext="${htmlContent}">HTML ë‚´ìš©</p>
      </div>
    </div>

    <!-- 5. ì¡°ê±´ í‘œí˜„ì‹ -->
    <div class="syntax-section">
      <h2>5. ì¡°ê±´ í‘œí˜„ì‹</h2>

      <div class="code-example">
        &lt;p th:if="${isAdmin}"&gt;ê´€ë¦¬ìë§Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
        &lt;p th:unless="${isAdmin}"&gt;ì¼ë°˜ ì‚¬ìš©ìì…ë‹ˆë‹¤.&lt;/p&gt;
        &lt;p th:text="${isAdmin ? 'ê´€ë¦¬ì' : 'ì¼ë°˜ ì‚¬ìš©ì'}"&gt;&lt;/p&gt;
      </div>
      <div class="result">
        <p th:if="${isAdmin}">ê´€ë¦¬ìë§Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        <p th:unless="${isAdmin}">ì¼ë°˜ ì‚¬ìš©ìì…ë‹ˆë‹¤.</p>
        <p th:text="${isAdmin ? 'ê´€ë¦¬ì' : 'ì¼ë°˜ ì‚¬ìš©ì'}"></p>
      </div>
    </div>

    <!-- 6. Null ì•ˆì „ ì²˜ë¦¬ -->
    <div class="syntax-section">
      <h2>6. Null ì•ˆì „ ì²˜ë¦¬ (Elvis ì—°ì‚°ì)</h2>

      <div class="code-example">
        &lt;p th:text="${nullValue ?: 'ê¸°ë³¸ê°’'}"&gt;Null ì²˜ë¦¬&lt;/p&gt;
        &lt;p th:text="${emptyString ?: 'ë¹ˆ ë¬¸ìì—´ ì²˜ë¦¬'}"&gt;ë¹ˆ ë¬¸ìì—´ ì²˜ë¦¬&lt;/p&gt;
        &lt;p th:text="${book.description ?: 'ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤.'}"&gt;ì„¤ëª…&lt;/p&gt;
      </div>
      <div class="result">
        <p th:text="${nullValue ?: 'ê¸°ë³¸ê°’'}">Null ì²˜ë¦¬</p>
        <p th:text="${emptyString ?: 'ë¹ˆ ë¬¸ìì—´ ì²˜ë¦¬'}">ë¹ˆ ë¬¸ìì—´ ì²˜ë¦¬</p>
        <p th:text="${book.description ?: 'ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤.'}">ì„¤ëª…</p>
      </div>
    </div>

    <!-- 7. ë¬¸ìì—´ ì—°ì‚° -->
    <div class="syntax-section">
      <h2>7. ë¬¸ìì—´ ì—°ì‚°</h2>

      <div class="code-example">
        &lt;p th:text="'ì•ˆë…•í•˜ì„¸ìš”, ' + ${userName} + 'ë‹˜!'"&gt;ì¸ì‚¬ë§&lt;/p&gt;
        &lt;p th:text="|ì•ˆë…•í•˜ì„¸ìš”, ${userName}ë‹˜!|"&gt;ë¦¬í„°ëŸ´ ì¹˜í™˜&lt;/p&gt;
        &lt;p th:text="${book.title} + ' - ' + ${book.author}"&gt;ì œëª©ê³¼ ì €ì&lt;/p&gt;
      </div>
      <div class="result">
        <p th:text="'ì•ˆë…•í•˜ì„¸ìš”, ' + ${userName} + 'ë‹˜!'">ì¸ì‚¬ë§</p>
        <p th:text="|ì•ˆë…•í•˜ì„¸ìš”, ${userName}ë‹˜!|">ë¦¬í„°ëŸ´ ì¹˜í™˜</p>
        <p th:text="${book.title} + ' - ' + ${book.author}">ì œëª©ê³¼ ì €ì</p>
      </div>
    </div>

    <!-- 8. ìˆ«ìì™€ ë‚ ì§œ í¬ë§·íŒ… -->
    <div class="syntax-section">
      <h2>8. ìˆ«ìì™€ ë‚ ì§œ í¬ë§·íŒ…</h2>

      <div class="code-example">
        &lt;p th:text="${#numbers.formatDecimal(book.price, 0, 0)} + 'ì›'"&gt;ê°€ê²© í¬ë§·&lt;/p&gt;
        &lt;p th:text="${#temporals.format(today, 'yyyyë…„ MMì›” ddì¼')}"&gt;ë‚ ì§œ í¬ë§·&lt;/p&gt;
        &lt;p th:text="${#temporals.format(today, 'Eìš”ì¼')}"&gt;ìš”ì¼&lt;/p&gt;
      </div>
      <div class="result">
        <p th:text="${#numbers.formatDecimal(book.price, 0, 0)} + 'ì›'">ê°€ê²© í¬ë§·</p>
        <p th:text="${#temporals.format(today, 'yyyyë…„ MMì›” ddì¼')}">ë‚ ì§œ í¬ë§·</p>
        <p th:text="${#temporals.format(today, 'Eìš”ì¼')}">ìš”ì¼</p>
      </div>
    </div>

    <!-- 9. ì»¬ë ‰ì…˜ ì²˜ë¦¬ -->
    <div class="syntax-section">
      <h2>9. ì»¬ë ‰ì…˜ ì²˜ë¦¬</h2>

      <div class="code-example">
        &lt;p&gt;ìˆ«ì ëª©ë¡:&lt;/p&gt;
        &lt;ul&gt;
        &lt;li th:each="num : ${numbers}" th:text="${num}"&gt;ìˆ«ì&lt;/li&gt;
        &lt;/ul&gt;

        &lt;p th:text="'ì´ ' + ${#lists.size(numbers)} + 'ê°œì˜ ìˆ«ì'"&gt;ê°œìˆ˜&lt;/p&gt;
        &lt;p th:if="${#lists.isEmpty(numbers)}"&gt;ëª©ë¡ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
      </div>
      <div class="result">
        <p>ìˆ«ì ëª©ë¡:</p>
        <ul>
          <li th:each="num : ${numbers}" th:text="${num}">ìˆ«ì</li>
        </ul>
        <p th:text="'ì´ ' + ${#lists.size(numbers)} + 'ê°œì˜ ìˆ«ì'">ê°œìˆ˜</p>
        <p th:if="${#lists.isEmpty(numbers)}">ëª©ë¡ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.</p>
      </div>
    </div>

    <!-- 10. CSS í´ë˜ìŠ¤ì™€ ì†ì„± ì²˜ë¦¬ -->
    <div class="syntax-section">
      <h2>10. CSS í´ë˜ìŠ¤ì™€ ì†ì„± ì²˜ë¦¬</h2>

      <div class="code-example">
        &lt;div th:class="${book.available ? 'available' : 'unavailable'}"&gt;
        ìƒíƒœì— ë”°ë¥¸ í´ë˜ìŠ¤ ì ìš©
        &lt;/div&gt;

        &lt;input type="text" th:value="${book.title}" th:readonly="${!isAdmin}"&gt;

        &lt;button th:disabled="${!book.available}"&gt;ëŒ€ì¶œí•˜ê¸°&lt;/button&gt;
      </div>
      <div class="result">
        <div th:class="${book.available ? 'available' : 'unavailable'}"
             style="padding: 10px; border-radius: 5px; margin: 5px 0;">
          ìƒíƒœì— ë”°ë¥¸ í´ë˜ìŠ¤ ì ìš©
        </div>
        <input type="text" th:value="${book.title}" th:readonly="${!isAdmin}" style="margin: 5px;">
        <button th:disabled="${!book.available}" style="margin: 5px;">ëŒ€ì¶œí•˜ê¸°</button>
      </div>
    </div>

    <!-- 11. ì¸ë¼ì¸ í‘œí˜„ì‹ -->
    <div class="syntax-section">
      <h2>11. ì¸ë¼ì¸ í‘œí˜„ì‹ [[...]]</h2>

      <div class="code-example">
        &lt;p&gt;ë„ì„œ ì œëª©: [[${book.title}]]&lt;/p&gt;
        &lt;p&gt;í˜„ì¬ ì‹œê°„: [[${#temporals.format(today, 'HH:mm:ss')}]]&lt;/p&gt;
        &lt;script th:inline="javascript"&gt;
        var bookTitle = [[${book.title}]];
        console.log('ë„ì„œ:', bookTitle);
        &lt;/script&gt;
      </div>
      <div class="result">
        <p>ë„ì„œ ì œëª©: [[${book.title}]]</p>
        <p>í˜„ì¬ ì‹œê°„: [[${#temporals.format(today, 'HH:mm:ss')}]]</p>
      </div>
    </div>

    <!-- 12. ìœ í‹¸ë¦¬í‹° ê°ì²´ -->
    <div class="syntax-section">
      <h2>12. ìœ í‹¸ë¦¬í‹° ê°ì²´</h2>

      <div class="code-example">
        &lt;p&gt;ë¬¸ìì—´ ê¸¸ì´: [[${#strings.length(book.title)}]]&lt;/p&gt;
        &lt;p&gt;ëŒ€ë¬¸ì: [[${#strings.toUpperCase(book.category)}]]&lt;/p&gt;
        &lt;p&gt;ë¬¸ìì—´ í¬í•¨: [[${#strings.contains(book.title, 'ìë°”')}]]&lt;/p&gt;
        &lt;p&gt;ë°°ì—´ í¬ê¸°: [[${#lists.size(numbers)}]]&lt;/p&gt;
      </div>
      <div class="result">
        <p>ë¬¸ìì—´ ê¸¸ì´: [[${#strings.length(book.title)}]]</p>
        <p>ëŒ€ë¬¸ì: [[${#strings.toUpperCase(book.category)}]]</p>
        <p>ë¬¸ìì—´ í¬í•¨: [[${#strings.contains(book.title, 'ìë°”')}]]</p>
        <p>ë°°ì—´ í¬ê¸°: [[${#lists.size(numbers)}]]</p>
      </div>
    </div>

    <!-- 13. ë°˜ë³µë¬¸ ìƒíƒœ ë³€ìˆ˜ -->
    <div class="syntax-section">
      <h2>13. ë°˜ë³µë¬¸ ìƒíƒœ ë³€ìˆ˜ (iterStat)</h2>

      <div class="code-example">
        &lt;table&gt;
        &lt;tr th:each="num, iterStat : ${numbers}"&gt;
        &lt;td th:text="${iterStat.index}"&gt;ì¸ë±ìŠ¤&lt;/td&gt;
        &lt;td th:text="${iterStat.count}"&gt;ì¹´ìš´íŠ¸&lt;/td&gt;
        &lt;td th:text="${num}"&gt;ê°’&lt;/td&gt;
        &lt;td th:text="${iterStat.odd ? 'í™€ìˆ˜ë²ˆì§¸' : 'ì§ìˆ˜ë²ˆì§¸'}"&gt;ìˆœì„œ&lt;/td&gt;
        &lt;td th:text="${iterStat.first ? 'ì²«ë²ˆì§¸' : ''}"&gt;ì²«ë²ˆì§¸&lt;/td&gt;
        &lt;td th:text="${iterStat.last ? 'ë§ˆì§€ë§‰' : ''}"&gt;ë§ˆì§€ë§‰&lt;/td&gt;
        &lt;/tr&gt;
        &lt;/table&gt;
      </div>
      <div class="result">
        <table border="1" style="border-collapse: collapse; margin: 10px 0;">
          <thead>
          <tr>
            <th>ì¸ë±ìŠ¤</th>
            <th>ì¹´ìš´íŠ¸</th>
            <th>ê°’</th>
            <th>ìˆœì„œ</th>
            <th>ì²«ë²ˆì§¸</th>
            <th>ë§ˆì§€ë§‰</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="num, iterStat : ${numbers}">
            <td th:text="${iterStat.index}">ì¸ë±ìŠ¤</td>
            <td th:text="${iterStat.count}">ì¹´ìš´íŠ¸</td>
            <td th:text="${num}">ê°’</td>
            <td th:text="${iterStat.odd ? 'í™€ìˆ˜ë²ˆì§¸' : 'ì§ìˆ˜ë²ˆì§¸'}">ìˆœì„œ</td>
            <td th:text="${iterStat.first ? 'ì²«ë²ˆì§¸' : ''}">ì²«ë²ˆì§¸</td>
            <td th:text="${iterStat.last ? 'ë§ˆì§€ë§‰' : ''}">ë§ˆì§€ë§‰</td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- 14. Switch ë¬¸ -->
    <div class="syntax-section">
      <h2>14. Switch ë¬¸</h2>

      <div class="code-example">
        &lt;div th:switch="${book.category}"&gt;
        &lt;p th:case="'í”„ë¡œê·¸ë˜ë°'"&gt;ğŸ’» í”„ë¡œê·¸ë˜ë° ë„ì„œì…ë‹ˆë‹¤&lt;/p&gt;
        &lt;p th:case="'ì›¹ê°œë°œ'"&gt;ğŸŒ ì›¹ê°œë°œ ë„ì„œì…ë‹ˆë‹¤&lt;/p&gt;
        &lt;p th:case="'ë°ì´í„°ë² ì´ìŠ¤'"&gt;ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ë„ì„œì…ë‹ˆë‹¤&lt;/p&gt;
        &lt;p th:case="*"&gt;ğŸ“š ê¸°íƒ€ ë„ì„œì…ë‹ˆë‹¤&lt;/p&gt;
        &lt;/div&gt;
      </div>
      <div class="result" th:switch="${book.category}">
        <p th:case="'í”„ë¡œê·¸ë˜ë°'">ğŸ’» í”„ë¡œê·¸ë˜ë° ë„ì„œì…ë‹ˆë‹¤</p>
        <p th:case="'ì›¹ê°œë°œ'">ğŸŒ ì›¹ê°œë°œ ë„ì„œì…ë‹ˆë‹¤</p>
        <p th:case="'ë°ì´í„°ë² ì´ìŠ¤'">ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ë„ì„œì…ë‹ˆë‹¤</p>
        <p th:case="*">ğŸ“š ê¸°íƒ€ ë„ì„œì…ë‹ˆë‹¤</p>
      </div>
    </div>

    <!-- 15. ê³ ê¸‰ ì¡°ê±´ì‹ -->
    <div class="syntax-section">
      <h2>15. ê³ ê¸‰ ì¡°ê±´ì‹</h2>

      <div class="demo-grid">
        <div class="demo-item">
          <h4>ë…¼ë¦¬ ì—°ì‚°ì</h4>
          <div class="code-example">
            &lt;p th:if="${book.available and book.price &lt; 50000}"&gt;
            ëŒ€ì¶œ ê°€ëŠ¥í•˜ê³  ì €ë ´í•œ ë„ì„œ
            &lt;/p&gt;
            &lt;p th:if="${book.author == 'ë¡œë²„íŠ¸ C. ë§ˆí‹´' or book.author == 'ì¡°ìŠˆì•„ ë¸”ë¡œí¬'}"&gt;
            ìœ ëª… ì €ìì˜ ë„ì„œ
            &lt;/p&gt;
          </div>
          <div class="result">
            <p th:if="${book.available and book.price < 50000}">
              ëŒ€ì¶œ ê°€ëŠ¥í•˜ê³  ì €ë ´í•œ ë„ì„œ
            </p>
            <p th:if="${book.author == 'ë¡œë²„íŠ¸ C. ë§ˆí‹´' or book.author == 'ì¡°ìŠˆì•„ ë¸”ë¡œí¬'}">
              ìœ ëª… ì €ìì˜ ë„ì„œ
            </p>
          </div>
        </div>

        <div class="demo-item">
          <h4>ë¹„êµ ì—°ì‚°ì</h4>
          <div class="code-example">
            &lt;p th:if="${book.pages gt 500}"&gt;ë‘êº¼ìš´ ì±…&lt;/p&gt;
            &lt;p th:if="${book.price le 30000}"&gt;ì €ë ´í•œ ì±…&lt;/p&gt;
            &lt;p th:if="${book.publishDate ge today.minusYears(1)}"&gt;ì‹ ê°„&lt;/p&gt;
          </div>
          <div class="result">
            <p th:if="${book.pages gt 500}">ë‘êº¼ìš´ ì±…</p>
            <p th:if="${book.price le 30000}">ì €ë ´í•œ ì±…</p>
            <p th:if="${book.publishDate ge today.minusYears(1)}">ì‹ ê°„</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 16. ë™ì  ì†ì„± -->
    <div class="syntax-section">
      <h2>16. ë™ì  ì†ì„±</h2>

      <div class="code-example">
        &lt;div th:attr="data-book-id=${book.id}, data-available=${book.available}"&gt;
        ë™ì  ë°ì´í„° ì†ì„±
        &lt;/div&gt;

        &lt;img th:src="@{${book.coverImageUrl}}"
        th:alt="${book.title}"
        th:title="'ë„ì„œ: ' + ${book.title}"&gt;

        &lt;input th:name="'book_' + ${book.id}"
        th:id="'input_' + ${book.id}"
        th:value="${book.title}"&gt;
      </div>
      <div class="result">
        <div th:attr="data-book-id=${book.id}, data-available=${book.available}"
             style="border: 1px solid #ccc; padding: 10px; margin: 5px 0;">
          ë™ì  ë°ì´í„° ì†ì„± (ê°œë°œì ë„êµ¬ì—ì„œ í™•ì¸)
        </div>

        <img th:src="@{${book.coverImageUrl}}"
             th:alt="${book.title}"
             th:title="'ë„ì„œ: ' + ${book.title}"
             style="max-width: 100px; max-height: 120px;">

        <input th:name="'book_' + ${book.id}"
               th:id="'input_' + ${book.id}"
               th:value="${book.title}"
               style="margin: 5px 0; display: block;">
      </div>
    </div>

    <!-- 17. í¼ ê´€ë ¨ -->
    <div class="syntax-section">
      <h2>17. í¼ ê´€ë ¨ ì²˜ë¦¬</h2>

      <div class="code-example">
        &lt;form th:action="@{/books}" method="post"&gt;
        &lt;select th:name="category"&gt;
        &lt;option value=""&gt;ì¹´í…Œê³ ë¦¬ ì„ íƒ&lt;/option&gt;
        &lt;option th:each="cat : ${categories}"
        th:value="${cat}"
        th:text="${cat}"
        th:selected="${cat == book.category}"&gt;ì¹´í…Œê³ ë¦¬&lt;/option&gt;
        &lt;/select&gt;

        &lt;input type="checkbox"
        th:name="available"
        th:checked="${book.available}"&gt; ëŒ€ì¶œ ê°€ëŠ¥
        &lt;/form&gt;
      </div>
      <div class="result">
        <form style="border: 1px solid #ddd; padding: 15px; margin: 10px 0;">
          <select name="category" style="margin-bottom: 10px;">
            <option value="">ì¹´í…Œê³ ë¦¬ ì„ íƒ</option>
            <option th:each="cat : ${categories}"
                    th:value="${cat}"
                    th:text="${cat}"
                    th:selected="${cat == book.category}">ì¹´í…Œê³ ë¦¬
            </option>
          </select>
          <br>
          <input type="checkbox"
                 name="available"
                 th:checked="${book.available}"> ëŒ€ì¶œ ê°€ëŠ¥
        </form>
      </div>
    </div>

    <!-- í•™ìŠµ ì •ë¦¬ -->
    <div class="syntax-section" style="background: #e3f2fd; border-left-color: #1976d2;">
      <h2>ğŸ“š í•™ìŠµ ì •ë¦¬</h2>
      <div class="demo-grid">
        <div class="demo-item">
          <h4>ê¸°ë³¸ í‘œí˜„ì‹</h4>
          <ul>
            <li><strong>${...}</strong>: ë³€ìˆ˜ í‘œí˜„ì‹ - ëª¨ë¸ ì†ì„± ì ‘ê·¼</li>
            <li><strong>*{...}</strong>: ì„ íƒ í‘œí˜„ì‹ - th:objectë¡œ ì„ íƒëœ ê°ì²´ ì†ì„± ì ‘ê·¼</li>
            <li><strong>@{...}</strong>: URL í‘œí˜„ì‹ - ë§í¬ URL ìƒì„±</li>
            <li><strong>#{...}</strong>: ë©”ì‹œì§€ í‘œí˜„ì‹ - êµ­ì œí™” ë©”ì‹œì§€</li>
            <li><strong>~{...}</strong>: ì¡°ê° í‘œí˜„ì‹ - í…œí”Œë¦¿ ì¡°ê°</li>
            <li><strong>[[...]]</strong>: ì¸ë¼ì¸ í‘œí˜„ì‹ - í…ìŠ¤íŠ¸ ë‚´ ë³€ìˆ˜ ì‚½ì…</li>
          </ul>
        </div>

        <div class="demo-item">
          <h4>ì œì–´ êµ¬ì¡°</h4>
          <ul>
            <li><strong>th:if / th:unless</strong>: ì¡°ê±´ë¶€ ë Œë”ë§</li>
            <li><strong>th:each</strong>: ë°˜ë³µë¬¸ (iterStat í¬í•¨)</li>
            <li><strong>th:switch / th:case</strong>: Switch ë¬¸</li>
            <li><strong>? :</strong>: ì‚¼í•­ ì—°ì‚°ì</li>
            <li><strong>?:</strong>: Elvis ì—°ì‚°ì (null ì²˜ë¦¬)</li>
          </ul>
        </div>

        <div class="demo-item">
          <h4>í…ìŠ¤íŠ¸ì™€ ì†ì„±</h4>
          <ul>
            <li><strong>th:text</strong>: HTML ì´ìŠ¤ì¼€ì´í”„ëœ í…ìŠ¤íŠ¸</li>
            <li><strong>th:utext</strong>: ì›ë³¸ HTML ì¶œë ¥</li>
            <li><strong>th:attr</strong>: ë™ì  ì†ì„± ì„¤ì •</li>
            <li><strong>th:class / th:classappend</strong>: CSS í´ë˜ìŠ¤ ê´€ë¦¬</li>
            <li><strong>th:style</strong>: ì¸ë¼ì¸ ìŠ¤íƒ€ì¼</li>
          </ul>
        </div>

        <div class="demo-item">
          <h4>ìœ í‹¸ë¦¬í‹° ê°ì²´</h4>
          <ul>
            <li><strong>#strings</strong>: ë¬¸ìì—´ ì²˜ë¦¬</li>
            <li><strong>#numbers</strong>: ìˆ«ì í¬ë§·íŒ…</li>
            <li><strong>#temporals</strong>: ë‚ ì§œ/ì‹œê°„ ì²˜ë¦¬</li>
            <li><strong>#lists</strong>: ë¦¬ìŠ¤íŠ¸ ì¡°ì‘</li>
            <li><strong>#maps</strong>: ë§µ ì²˜ë¦¬</li>
            <li><strong>#aggregates</strong>: ì§‘ê³„ í•¨ìˆ˜</li>
          </ul>
        </div>
      </div>

      <h3>ğŸ’¡ ì¤‘ìš” í¬ì¸íŠ¸</h3>
      <ul>
        <li>th:textëŠ” HTML ì´ìŠ¤ì¼€ì´í”„, th:utextëŠ” ì›ë³¸ HTML ì¶œë ¥</li>
        <li>Elvis ì—°ì‚°ì(?:)ë¡œ null ì•ˆì „ ì²˜ë¦¬</li>
        <li>ì‚¼í•­ ì—°ì‚°ìë¡œ ì¡°ê±´ë¶€ ê°’ ì„¤ì •</li>
        <li>ìœ í‹¸ë¦¬í‹° ê°ì²´(#strings, #numbers, #temporals ë“±) ì ê·¹ í™œìš©</li>
        <li>th:class, th:disabled ë“±ìœ¼ë¡œ ë™ì  ì†ì„± ì„¤ì •</li>
        <li>iterStatìœ¼ë¡œ ë°˜ë³µë¬¸ ìƒíƒœ ì •ë³´ í™œìš©</li>
        <li>Switch ë¬¸ìœ¼ë¡œ ë³µì¡í•œ ì¡°ê±´ ì²˜ë¦¬ ê°„ì†Œí™”</li>
      </ul>

      <h3>ğŸš€ ì‹¤ë¬´ íŒ</h3>
      <ul>
        <li><span class="highlight">ì„±ëŠ¥</span>: ë¶ˆí•„ìš”í•œ ê°ì²´ ì ‘ê·¼ ìµœì†Œí™”</li>
        <li><span class="highlight">ê°€ë…ì„±</span>: ë³µì¡í•œ í‘œí˜„ì‹ì€ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì²˜ë¦¬</li>
        <li><span class="highlight">ìœ ì§€ë³´ìˆ˜</span>: ì¼ê´€ëœ ëª…ëª… ê·œì¹™ ì‚¬ìš©</li>
        <li><span class="highlight">ë””ë²„ê¹…</span>: ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ë¡œ ë Œë”ë§ ê²°ê³¼ í™•ì¸</li>
      </ul>
    </div>

    <!-- ì‹¤ì „ ì˜ˆì œ -->
    <div class="syntax-section" style="background: #f0f8ff; border-left-color: #4169e1;">
      <h2>ğŸ¯ ì‹¤ì „ ì¢…í•© ì˜ˆì œ</h2>
      <p>ì‹¤ì œ ë„ì„œ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë‹¤ì–‘í•œ Thymeleaf ê¸°ëŠ¥ë“¤</p>

      <div class="code-example">
        &lt;div class="book-card" th:each="book, bookStat : ${books}"
        th:object="${book}"
        th:attr="data-book-id=*{id}"
        th:classappend="*{available} ? 'available' : 'unavailable'"&gt;

        &lt;!-- ìˆœë²ˆ í‘œì‹œ --&gt;
        &lt;div class="book-number" th:text="${bookStat.count}"&gt;1&lt;/div&gt;

        &lt;!-- ì±… í‘œì§€ ì´ë¯¸ì§€ --&gt;
        &lt;img th:src="@{*{coverImageUrl}}"
        th:alt="*{title}"
        th:onerror="'this.src=\'/images/no-image.jpg\''"&gt;

        &lt;!-- ì±… ì œëª© (ë§í¬) --&gt;
        &lt;h3&gt;
        &lt;a th:href="@{/books/{id}(id=*{id})}"
        th:text="*{title}"
        th:title="'ìƒì„¸ë³´ê¸°: ' + *{title}"&gt;ë„ì„œ ì œëª©&lt;/a&gt;
        &lt;/h3&gt;

        &lt;!-- ì €ìì™€ ì¶œíŒ ì •ë³´ --&gt;
        &lt;p class="author" th:text="*{author}"&gt;ì €ì&lt;/p&gt;
        &lt;p class="publisher"
        th:text="*{publisher} + ' | ' + ${#temporals.format(*{publishDate}, 'yyyyë…„')}"&gt;
        ì¶œíŒ ì •ë³´
        &lt;/p&gt;

        &lt;!-- ì¹´í…Œê³ ë¦¬ ë°°ì§€ --&gt;
        &lt;span class="category-badge"
        th:text="*{category}"
        th:style="'background-color: ' + ${categoryColors[*{category}]} + ';'"&gt;
        ì¹´í…Œê³ ë¦¬
        &lt;/span&gt;

        &lt;!-- ê°€ê²© í‘œì‹œ --&gt;
        &lt;div class="price-section"&gt;
        &lt;span th:if="*{price != null}"
        class="price"
        th:text="${#numbers.formatDecimal(*{price}, 0, 0)} + 'ì›'"&gt;ê°€ê²©&lt;/span&gt;
        &lt;span th:unless="*{price != null}" class="price-na"&gt;ê°€ê²© ë¯¸ì •&lt;/span&gt;
        &lt;/div&gt;

        &lt;!-- ëŒ€ì¶œ ìƒíƒœ --&gt;
        &lt;div class="status-section"&gt;
        &lt;span th:switch="*{available}"&gt;
        &lt;span th:case="true" class="status available"&gt;âœ… ëŒ€ì¶œ ê°€ëŠ¥&lt;/span&gt;
        &lt;span th:case="false" class="status unavailable"&gt;ğŸ“– ëŒ€ì¶œ ì¤‘&lt;/span&gt;
        &lt;/span&gt;
        &lt;/div&gt;

        &lt;!-- ì„¤ëª… (ì¶•ì•½) --&gt;
        &lt;p class="description"
        th:text="${#strings.abbreviate(*{description ?: 'ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤.'}, 100)}"&gt;
        ì„¤ëª…
        &lt;/p&gt;

        &lt;!-- íƒœê·¸ë“¤ --&gt;
        &lt;div class="tags" th:if="*{pages != null}"&gt;
        &lt;span class="tag" th:if="*{pages &gt; 500}"&gt;ğŸ“š ë‘êº¼ìš´ ì±…&lt;/span&gt;
        &lt;span class="tag" th:if="*{publishDate.year &gt;= 2023}"&gt;ğŸ†• ì‹ ê°„&lt;/span&gt;
        &lt;span class="tag" th:if="*{price != null and price &lt; 20000}"&gt;ğŸ’° ì €ë ´&lt;/span&gt;
        &lt;/div&gt;

        &lt;!-- ì•¡ì…˜ ë²„íŠ¼ë“¤ --&gt;
        &lt;div class="actions"&gt;
        &lt;a th:href="@{/books/{id}(id=*{id})}" class="btn btn-primary"&gt;ìƒì„¸ë³´ê¸°&lt;/a&gt;
        &lt;button th:if="*{available}"
        class="btn btn-success"
        th:onclick="'borrowBook(' + *{id} + ')'"&gt;ëŒ€ì¶œí•˜ê¸°&lt;/button&gt;
        &lt;button th:unless="*{available}"
        class="btn btn-secondary"
        disabled&gt;ëŒ€ì¶œ ë¶ˆê°€&lt;/button&gt;
        &lt;/div&gt;

        &lt;!-- ë§ˆì§€ë§‰ ë„ì„œì¸ ê²½ìš° íŠ¹ë³„ í‘œì‹œ --&gt;
        &lt;div th:if="${bookStat.last}" class="last-item-notice"&gt;
        ë§ˆì§€ë§‰ ë„ì„œì…ë‹ˆë‹¤
        &lt;/div&gt;
        &lt;/div&gt;
      </div>

      <div class="result">
        <p><strong>ìœ„ ì½”ë“œì—ì„œ ì‚¬ìš©ëœ Thymeleaf ê¸°ëŠ¥ë“¤:</strong></p>
        <ul>
          <li>âœ… <code>th:each</code>ì™€ ìƒíƒœ ë³€ìˆ˜ (bookStat)</li>
          <li>âœ… <code>th:object</code>ì™€ ì„ íƒ í‘œí˜„ì‹ (*{})</li>
          <li>âœ… ë™ì  ì†ì„± ì„¤ì • (th:attr, th:classappend)</li>
          <li>âœ… URL ìƒì„±ê³¼ íŒŒë¼ë¯¸í„° (@{...})</li>
          <li>âœ… ì¡°ê±´ë¶€ ë Œë”ë§ (th:if, th:unless)</li>
          <li>âœ… Switch ë¬¸ (th:switch, th:case)</li>
          <li>âœ… ë¬¸ìì—´ í•¨ìˆ˜ (#strings.abbreviate)</li>
          <li>âœ… ìˆ«ì í¬ë§·íŒ… (#numbers.formatDecimal)</li>
          <li>âœ… ë‚ ì§œ í¬ë§·íŒ… (#temporals.format)</li>
          <li>âœ… Elvis ì—°ì‚°ì (?: null ì²˜ë¦¬)</li>
          <li>âœ… ë™ì  ìŠ¤íƒ€ì¼ (th:style)</li>
          <li>âœ… ë³µí•© ì¡°ê±´ (ë…¼ë¦¬ ì—°ì‚°ì)</li>
        </ul>
      </div>
    </div>

    <!-- ë””ë²„ê¹… íŒ -->
    <div class="syntax-section" style="background: #fff3cd; border-left-color: #ffc107;">
      <h2>ğŸ”§ ë””ë²„ê¹…ê³¼ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</h2>

      <div class="demo-grid">
        <div class="demo-item">
          <h4>í”í•œ ì—ëŸ¬ì™€ í•´ê²°ë²•</h4>
          <div class="error-demo">
            <strong>âŒ ìì£¼ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜:</strong>
            <ul>
              <li><code>PropertyNotFoundException</code> - ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì†ì„± ì ‘ê·¼</li>
              <li><code>TemplateInputException</code> - ë¬¸ë²• ì˜¤ë¥˜</li>
              <li><code>NullPointerException</code> - null ê°ì²´ ì ‘ê·¼</li>
            </ul>
          </div>

          <div class="result">
            <strong>âœ… í•´ê²° ë°©ë²•:</strong>
            <ul>
              <li>Elvis ì—°ì‚°ì ì‚¬ìš©: <code>${obj?.property ?: 'default'}</code></li>
              <li>ì¡°ê±´ë¶€ ì ‘ê·¼: <code>th:if="${obj != null}"</code></li>
              <li>Safe navigation: <code>${obj?.method()}</code></li>
            </ul>
          </div>
        </div>

        <div class="demo-item">
          <h4>ì„±ëŠ¥ ìµœì í™” íŒ</h4>
          <div class="info-demo">
            <strong>ğŸš€ ì„±ëŠ¥ í–¥ìƒ:</strong>
            <ul>
              <li>í…œí”Œë¦¿ ìºì‹± í™œìš©</li>
              <li>ë¶ˆí•„ìš”í•œ ê°ì²´ ì ‘ê·¼ ìµœì†Œí™”</li>
              <li>ì¡°ê±´ë¶€ ë Œë”ë§ìœ¼ë¡œ DOM ìµœì í™”</li>
              <li>Fragment ì¬ì‚¬ìš©ìœ¼ë¡œ ì¤‘ë³µ ì œê±°</li>
            </ul>
          </div>
        </div>

        <div class="demo-item">
          <h4>ê°œë°œ ë„êµ¬ í™œìš©</h4>
          <div class="code-example" style="font-size: 0.9em;">
            # application.properties (ê°œë°œ ì‹œ)
            spring.thymeleaf.cache=false
            spring.thymeleaf.mode=HTML
            logging.level.org.thymeleaf=DEBUG
          </div>
          <p>ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ë¡œ ë Œë”ë§ëœ HTML í™•ì¸</p>
        </div>

        <div class="demo-item">
          <h4>í…ŒìŠ¤íŠ¸ ë°©ë²•</h4>
          <div class="result">
            <ul>
              <li>ë‹¨ìœ„ í…ŒìŠ¤íŠ¸: MockMvc ì‚¬ìš©</li>
              <li>í†µí•© í…ŒìŠ¤íŠ¸: @SpringBootTest</li>
              <li>í…œí”Œë¦¿ í…ŒìŠ¤íŠ¸: Thymeleaf Testing</li>
              <li>ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸: Selenium</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- ë‹¤ìŒ ë‹¨ê³„ ì•ˆë‚´ -->
    <div class="navigation-section">
      <a th:href="@{/book}" class="btn btn-secondary">â† ë„ì„œ ëª©ë¡ìœ¼ë¡œ</a>
      <a href="#" class="btn btn-primary">ë‹¤ìŒ ë‹¨ê³„: Spring ì—°ë™ â†’</a>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 Thymeleaf Tutorial - Step 2: ê¸°ë³¸ ë¬¸ë²• ì™„ì „ ì •ë³µ</p>
  </footer>
</div>

<script th:src="@{/js/main.js}"></script>
<script th:inline="javascript">
        // JavaScript ì¸ë¼ì¸ ì˜ˆì œ
        var bookData = {
            title: [[${book.title}]],
            author: [[${book.author}]],
            available: [[${book.available}]],
            price: [[${book.price}]]
        };

        console.log('ë„ì„œ ì •ë³´:', bookData);

        // ëŒ€ì¶œ ê¸°ëŠ¥ ì˜ˆì‹œ
        function borrowBook(bookId) {
            if (confirm('ì´ ë„ì„œë¥¼ ëŒ€ì¶œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                // ì‹¤ì œë¡œëŠ” AJAX ìš”ì²­ì„ ë³´ëƒ„
                alert('ëŒ€ì¶œ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. (ë„ì„œ ID: ' + bookId + ')');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Thymeleaf ë¬¸ë²• ì˜ˆì œ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');

            // ì½”ë“œ ì˜ˆì œ í•˜ì´ë¼ì´íŠ¸
            const codeBlocks = document.querySelectorAll('.code-example');
            codeBlocks.forEach(block => {
                block.addEventListener('click', function() {
                    // ì½”ë“œ ë¸”ë¡ í´ë¦­ ì‹œ ë³µì‚¬ ê¸°ëŠ¥
                    navigator.clipboard.writeText(this.textContent);

                    // ì„ì‹œ ì•Œë¦¼
                    const originalBg = this.style.backgroundColor;
                    this.style.backgroundColor = '#4a5568';
                    setTimeout(() => {
                        this.style.backgroundColor = originalBg;
                    }, 200);
                });
            });

            // ê²°ê³¼ ì˜ì—­ ì• ë‹ˆë©”ì´ì…˜
            const results = document.querySelectorAll('.result');
            results.forEach((result, index) => {
                setTimeout(() => {
                    result.style.opacity = '1';
                    result.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });

        // ì‹¤ì‹œê°„ ì‹œê°„ ì—…ë°ì´íŠ¸ ì˜ˆì œ
        function updateCurrentTime() {
            const timeElements = document.querySelectorAll('[data-time="current"]');
            const now = new Date();
            const timeString = now.toLocaleTimeString('ko-KR');

            timeElements.forEach(element => {
                element.textContent = timeString;
            });
        }

        // 1ì´ˆë§ˆë‹¤ ì‹œê°„ ì—…ë°ì´íŠ¸
        setInterval(updateCurrentTime, 1000);
        updateCurrentTime(); // ì´ˆê¸° ì‹¤í–‰


</script>

<!-- ì¶”ê°€ ìŠ¤íƒ€ì¼ -->
<style>
        .navigation-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #dee2e6;
        }

        .btn {
            display: inline-block;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #007bff;
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .result {
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
        }

        .code-example {
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .code-example:hover {
            background: #1a202c !important;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .demo-grid {
                grid-template-columns: 1fr;
            }

            .navigation-section {
                flex-direction: column;
                gap: 15px;
            }

            .syntax-section {
                padding: 15px;
            }
        }


</style>
</body>
</html>